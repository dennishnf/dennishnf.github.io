<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr">


<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="description" content="">
<meta name="keywords" content="">
<meta name="author" content="">
<link rel="stylesheet" type="text/css" href="/reset.css" media="screen">
<link rel="stylesheet" type="text/css" href="/style.css" media="screen">
<!--[if lte IE 7]><link rel="stylesheet" type="text/css" href="ie_fixes.css" media="screen" /><![endif]-->
<title>Dennis Núñez Fernández</title>

<!-- Favicon of the website -->
<link rel="shortcut icon" href="/icon.ico?" type="image/x-icon" />
<link rel="icon" href="/icon.ico?" type="image/ico" />

<style type="text/css">:root .adsbygoogle,
:root #header + #content > #left > #rlblock_left,
:root #content > #right > .dose > .dosesingle,
:root #content > #center > .dose > .dosesingle
{display:none !important;}</style>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115924652-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115924652-1');
</script>

</head>


<body>
<div id="paper_left">
<div id="paper_right">
<div id="layout_wrapper">
<div id="layout_container">
<div id="layout_content">
<div id="site_title">
<h1><b><a href="https://dennishnf.com/">Dennis Núñez Fernández</a></b></h1>
<h2>BSc in Electronic Engineering, Universidad Nacional de Ingeniería (UNI)</h2>
</div>
<div class="navigation">
<ul>
<li><a href="/index.html">Home</a></li>
<li><a href="/research/research.html">Research</a></li>
<li><a href="/posts/posts.html">Posts</a></li>
<li><a href="/contact/contact.html">Contact</a></li>
<li><a href="/curriculum/curriculum.html">Curriculum</a></li>
</ul>
<div class="clearer">&nbsp;</div>
</div>

<div id="main">

<div class="post">
<div class="post_body">
<br/>

<h2>Basic hand detector in C++ using Haar cascades on OpenCV 2.4</h2>

<p align="justify">Implemented in OpenCV 2.4.x and 3.x. In the next link you can find the pre trained .xml file (created after training the Haar cascades classifier) that will be used to implement the hand detector: [<a target="_blank" href="https://dennishnf.github.io/posts/technical/2017-11_basic_hand_detector_in_cpp_using_haar_cascades_on_opencv_2-4/hand_detector.zip">link</a>].</p>
<br/> 
<h3>Code</h3>

<p align="justify">Create a the <custom_code>hand_detectop.cpp</custom_code> and fill in with the next content:</p>
<p><code class="barcode">#include &lt;opencv2/imgproc/imgproc.hpp&gt;
#include &lt;opencv2/highgui/highgui.hpp&gt;
#include &lt;opencv2/objdetect/objdetect.hpp&gt;
#include &lt;iostream&gt;
#include &lt;stdio.h&gt;
     
using namespace cv;
using namespace std;
      
Mat img;
     
vector&lt;Rect&gt; hands;
     
CascadeClassifier Hand;
     
int main()
{
  VideoCapture cap(0);
  char ch;
  namedWindow("Hand detection",CV_WINDOW_NORMAL);
  Hand.load("hand.xml");
  while(true)
  {
    cap&gt;&gt;img;
    Hand.detectMultiScale(img,hands,1.1,3,0|CV_HAAR_FIND_BIGGEST_OBJECT,Size(30,30));
    for(size_t  i=0; i &lt; hands.size() ; i++)
    {
       int point1x =  hands[i].x;
       int point1y = hands[i].y;
       int lengthxy = hands[i].width;
       rectangle(img, Point(point1x,point1y), Point(point1x+lengthxy,point1y+lengthxy), Scalar(0,0,255), 1, 8, 0 );
       imshow("Hand detection", img );
     }  
    imshow("Hand detection",img);
    ch=waitKey(1);
    if(ch==27)
    { break; }  
  }
return 0;
}
</code></p>

<br/> 
<h3>Compilation and execution</h3>

<p align="justify">Create the <custom_code>Makefile</custom_code> and fill in with the next content:</p>
<p><code class="barcode">CC = g++
CFLAGS = -g -Wall
SRCS = hand_detector.cpp
PROG = hand_detector
          
OPENCV_LIBS = /usr/local
      
OPENCV = -I$(OPENCV_LIBS)/include/opencv -I$(OPENCV_LIBS)/include \
$(OPENCV_LIBS)/lib/libopencv_calib3d.so $(OPENCV_LIBS)/lib/libopencv_core.so \
$(OPENCV_LIBS)/lib/libopencv_features2d.so $(OPENCV_LIBS)/lib/libopencv_flann.so \
$(OPENCV_LIBS)/lib/libopencv_highgui.so $(OPENCV_LIBS)/lib/libopencv_imgproc.so \
$(OPENCV_LIBS)/lib/libopencv_ml.so $(OPENCV_LIBS)/lib/libopencv_objdetect.so \
$(OPENCV_LIBS)/lib/libopencv_photo.so $(OPENCV_LIBS)/lib/libopencv_stitching.so \
$(OPENCV_LIBS)/lib/libopencv_superres.so $(OPENCV_LIBS)/lib/libopencv_video.so \
$(OPENCV_LIBS)/lib/libopencv_videostab.so
      
LIBS = $(OPENCV)
      
$(PROG):$(SRCS)
	$(CC) $(CFLAGS) -o $(PROG) $(SRCS) $(LIBS)
</code></p>

<p align="justify">Then, compile with:</p>
<p><code class="barcode">$ make
</code></p>

<p align="justify">FInally, execute the created file with:</p>
<p><code class="barcode">$ ./hand_detectop
</code></p>




<br/>
</div>
</div>



</div>



<div id="footer">
<div class="left">© 2013–2020 Dennis H. Núñez Fernández <br/>  <!-- </div> 
<div class="clearer">&nbsp;</div>
</div>

</div>
</div>
</div>
</div>
</div>

</body></html> -->
<a href="https://dennishnf.com/README.html" target="_blank">From scratch in Python. Powered by Linux</a> <br/>
Website updated:&nbsp;&nbsp;2021-04-14&nbsp;&nbsp;13:33 GMT <br/> 
</div> 
<div class="clearer">&nbsp;</div> 
</div> 
</div> 
</div> 
</div> 
</div> 
</div> 
</body> 


</html> 
